# =============================================================================
# SEALED SECRETS TEMPLATE
# =============================================================================
# This file contains a TEMPLATE for creating sealed secrets.
# DO NOT commit actual secrets to Git!
#
# USAGE:
# 1. Create a raw secret file (secret-raw.yaml) locally - DO NOT COMMIT THIS
# 2. Seal it using kubeseal CLI
# 3. Commit the sealed version to Git
#
# EXAMPLE WORKFLOW:
# -----------------
# Step 1: Create raw secret (secret-raw.yaml):
#
# apiVersion: v1
# kind: Secret
# metadata:
#   name: api-main-secrets
#   namespace: kitchen-sink
# type: Opaque
# stringData:
#   DATABASE_URL: "postgresql://user:password@host:5432/dbname?sslmode=require"
#   JWT_SECRET: "your-jwt-secret-min-32-characters-long"
#   REFRESH_TOKEN_SECRET: "your-refresh-token-secret-min-32-chars"
#   SESSION_SECRET: "your-session-secret-min-32-characters"
#
# Step 2: Seal the secret:
#   kubeseal --format yaml < secret-raw.yaml > api-main-sealed-secret.yaml
#
# Step 3: Delete the raw secret file:
#   rm secret-raw.yaml
#
# Step 4: Commit api-main-sealed-secret.yaml to Git
# =============================================================================

# Placeholder SealedSecret - Replace with actual sealed secret after running kubeseal
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: api-main-secrets
  namespace: kitchen-sink
  annotations:
    # Annotation to allow secret updates
    sealedsecrets.bitnami.com/managed: "true"
spec:
  encryptedData:
    # These values are placeholders - replace with actual sealed values
    # Run: kubeseal --format yaml < secret-raw.yaml > sealed-secret.yaml
    DATABASE_URL: AgBxxxxxxxxxxxxxxxx... # Sealed value
    JWT_SECRET: AgBxxxxxxxxxxxxxxxx... # Sealed value
    REFRESH_TOKEN_SECRET: AgBxxxxxxxxxxxxxxxx... # Sealed value
    SESSION_SECRET: AgBxxxxxxxxxxxxxxxx... # Sealed value
  template:
    metadata:
      name: api-main-secrets
      namespace: kitchen-sink
    type: Opaque
